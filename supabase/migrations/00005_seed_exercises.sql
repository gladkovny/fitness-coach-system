-- Seed: база упражнений для трекера
-- Трекер распознаёт названия через getExerciseFromDB (fuzzy match)
-- Ключ key используется для EXPLICIT_EXERCISE_RULES
-- Дата: 2026-01-31

-- Добавляем колонку key для явных правил (опционально)
ALTER TABLE exercises ADD COLUMN IF NOT EXISTS key TEXT UNIQUE;

-- Вставляем только если таблица пуста
INSERT INTO exercises (trainer_id, name, category, subcategory, equipment, key)
SELECT NULL, v.name, v.category, v.subcategory, v.equipment, v.key
FROM (VALUES
  ('Жим лёжа', 'Грудь', 'Жим', 'штанга', 'bench_press'),
  ('Жим штанги лёжа', 'Грудь', 'Жим', 'штанга', NULL),
  ('Жим гантелей лёжа', 'Грудь', 'Жим', 'гантели', NULL),
  ('Жим в тренажёре', 'Грудь', 'Жим', 'тренажер', NULL),
  ('Разводка гантелей', 'Грудь', 'Изоляция', 'гантели', NULL),
  ('Отжимания', 'Грудь', 'Жим', 'свой вес', NULL),
  ('Жим на наклонной скамье', 'Грудь', 'Жим', 'штанга', NULL),
  
  -- Спина
  ('Подтягивания', 'Спина', 'Тяга', 'свой вес', NULL),
  ('Тяга верхнего блока', 'Спина', 'Тяга', 'блок', 'lat_pulldown'),
  ('Тяга горизонтального блока', 'Спина', 'Тяга', 'блок', 'cable_row'),
  ('Тяга штанги в наклоне', 'Спина', 'Тяга', 'штанга', NULL),
  ('Тяга гантели в наклоне', 'Спина', 'Тяга', 'гантели', NULL),
  ('Гиперэкстензия', 'Спина', 'Поясница', 'свой вес', NULL),
  ('Становая тяга', 'Спина', 'Тяга', 'штанга', 'deadlift'),
  ('Румынская тяга', 'Спина', 'Тяга', 'штанга', 'rdl_barbell'),
  ('РДЛ', 'Спина', 'Тяга', 'штанга', 'rdl_barbell'),
  
  -- Ноги
  ('Приседания со штангой', 'Ноги', 'Квадрицепс', 'штанга', NULL),
  ('Приседания', 'Ноги', 'Квадрицепс', 'штанга', NULL),
  ('Приседания в тренажёре Смита', 'Ноги', 'Квадрицепс', 'тренажер', 'squat_smith'),
  ('Фронтальные приседания', 'Ноги', 'Квадрицепс', 'штанга', 'squat_front'),
  ('Гакк-приседания', 'Ноги', 'Квадрицепс', 'тренажер', 'squat_hack'),
  ('Приседания с гантелью (гоблет)', 'Ноги', 'Квадрицепс', 'гантели', 'squat_goblet'),
  ('Жим ногами', 'Ноги', 'Квадрицепс', 'тренажер', 'leg_press'),
  ('Разгибание ног в тренажёре', 'Ноги', 'Квадрицепс', 'тренажер', 'leg_extension'),
  ('Сгибание ног лёжа', 'Ноги', 'Бицепс бедра', 'тренажер', 'leg_curl_lying'),
  ('Сгибание ног сидя', 'Ноги', 'Бицепс бедра', 'тренажер', 'leg_curl_seated'),
  ('Сгибание ног', 'Ноги', 'Бицепс бедра', 'тренажер', 'leg_curl_lying'),
  ('Подъём на носки стоя', 'Ноги', 'Икры', 'тренажер', NULL),
  ('Подъём на носки сидя', 'Ноги', 'Икры', 'тренажер', NULL),
  ('Выпады', 'Ноги', 'Квадрицепс', 'гантели', NULL),
  
  -- Плечи
  ('Жим штанги стоя', 'Плечи', 'Жим', 'штанга', 'shoulder_press'),
  ('Жим гантелей сидя', 'Плечи', 'Жим', 'гантели', 'shoulder_press'),
  ('Жим Арнольда', 'Плечи', 'Жим', 'гантели', 'shoulder_press'),
  ('Махи гантелей в стороны', 'Плечи', 'Средняя дельта', 'гантели', NULL),
  ('Махи в наклоне', 'Плечи', 'Задняя дельта', 'гантели', NULL),
  ('Тяга к подбородку', 'Плечи', 'Средняя дельта', 'штанга', NULL),
  
  -- Руки: бицепс
  ('Сгибание рук со штангой', 'Руки', 'Бицепс', 'штанга', 'bicep_curl'),
  ('Сгибание рук с гантелями', 'Руки', 'Бицепс', 'гантели', 'bicep_curl'),
  ('Молотки', 'Руки', 'Бицепс', 'гантели', NULL),
  ('Сгибание на скамье Скотта', 'Руки', 'Бицепс', 'штанга', NULL),
  
  -- Руки: трицепс
  ('Разгибание рук на блоке', 'Руки', 'Трицепс', 'блок', 'tricep_pushdown'),
  ('Разгибание рук с канатом', 'Руки', 'Трицепс', 'блок', 'tricep_pushdown'),
  ('Французский жим', 'Руки', 'Трицепс', 'штанга', 'tricep_overhead'),
  ('Разгибание гантели из-за головы', 'Руки', 'Трицепс', 'гантели', 'tricep_overhead_db'),
  ('Отжимания на брусьях', 'Руки', 'Трицепс', 'свой вес', NULL),
  
  -- Кор
  ('Планка', 'Кор', 'Пресс', 'свой вес', NULL),
  ('Подъём ног в висе', 'Кор', 'Пресс', 'свой вес', NULL),
  ('Скручивания', 'Кор', 'Пресс', 'свой вес', NULL),
  ('Подъём корпуса', 'Кор', 'Пресс', 'свой вес', NULL)
) AS v(name, category, subcategory, equipment, key)
WHERE NOT EXISTS (SELECT 1 FROM exercises LIMIT 1);
