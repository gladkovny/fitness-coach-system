# –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ —Ñ–∞–∑–∞–º (ARCHITECTURE_V2)

> –ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞ –∏–∑ [ARCHITECTURE_V2.md](ARCHITECTURE_V2.md). –ü–æ–ª–Ω—ã–π roadmap ‚Äî –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ.

---

## –§–∞–∑–∞ 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è (–§–µ–≤—Ä–∞–ª—å 2026)

| –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ä–æ–∫ |
|--------|-----------|------|
| –§–∏–∫—Å –≤—Å–µ—Ö –±–∞–≥–æ–≤ —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º—ã | üî¥ | 1 –Ω–µ–¥–µ–ª—è |
| –°—Ç–∞–±–∏–ª—å–Ω—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ (—Ç–µ—Å—Ç –ê–ª—ë–Ω–∞) | üî¥ | 1 –Ω–µ–¥–µ–ª—è |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è | üü° | 2 –¥–Ω—è |
| –ë—ç–∫–∞–ø –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π | üî¥ | 1 –¥–µ–Ω—å |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–∞—Ä–∫, –Ø—Ä–æ—Å–ª–∞–≤, –ö–∏—Ä–∏–ª–ª, –ê–ª—ë–Ω–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ —Å–±–æ–µ–≤.

---

## –§–∞–∑–∞ 2: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Supabase (–ú–∞—Ä—Ç 2026)

| –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ä–æ–∫ |
|--------|-----------|------|
| –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å—Ö–µ–º—ã –ë–î –≤ Supabase | üî¥ | 3 –¥–Ω—è |
| –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö Coach Master | üî¥ | 2 –¥–Ω—è |
| –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ | üî¥ | 3 –¥–Ω—è |
| –ù–æ–≤—ã–π API (Edge Functions) | üî¥ | 1 –Ω–µ–¥–µ–ª—è |
| –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (email + –ø–∞—Ä–æ–ª—å) | üî¥ | 3 –¥–Ω—è |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ dev-—Å—Ä–µ–¥–µ | üü° | 1 –Ω–µ–¥–µ–ª—è |
| –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ production | üî¥ | 1 –¥–µ–Ω—å |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–¥–∏–Ω URL –Ω–∞–≤—Å–µ–≥–¥–∞, –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.

**–ì–¥–µ –∫–æ–¥:** –ø–∞–ø–∫–∞ `supabase/` ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏, Edge Functions, –∫–æ–Ω—Ñ–∏–≥.

---

## –§–∞–∑–∞ 3: –ù–æ–≤—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–ê–ø—Ä–µ–ª—å‚Äì–ú–∞–π 2026)

React PWA, –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞ Olympus, —Ç—Ä–µ–∫–µ—Ä –∏ –¥–∞—à–±–æ—Ä–¥—ã. –°–º. ARCHITECTURE_V2.

---

## –§–∞–∑–∞ 4‚Äì6

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Whoop, Apple, InBody) ‚Üí AI-–º–æ–¥—É–ª–∏ ‚Üí –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –±–∏–ª–ª–∏–Ω–≥. –°–º. ARCHITECTURE_V2.

---

## –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ Master API

| –ó–∞–¥–∞—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É email –≤ –ª–∏—Å—Ç Clients** | –í —Ç–∞–±–ª–∏—Ü–µ Coach Master, –ª–∏—Å—Ç Clients: –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É `email` (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é, –µ—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è). –í —Å—Ç—Ä–æ–∫–µ —Ç—Ä–µ–Ω–µ—Ä–∞ (—Å—Ç—Ä–æ–∫–∞ –±–µ–∑ spreadsheetId –∏–ª–∏ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö) –∑–∞–ø–æ–ª–Ω–∏—Ç—å email —Ç—Ä–µ–Ω–µ—Ä–∞. –ù—É–∂–Ω–æ –¥–ª—è –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–µ—Ä–∞ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ Supabase (—Å–≤–æ–π—Å—Ç–≤–æ `MIGRATION_TRAINER_EMAIL`) –∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ API. |

---

## –°–µ–π—á–∞—Å ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Supabase (—Å—Ç–∞—Ç—É—Å)

1. ‚úÖ –£—Ç–≤–µ—Ä–¥–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (ARCHITECTURE_V2)
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `supabase/` –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ (—Å—Ö–µ–º–∞ –ë–î + RLS-–∑–∞–≥–ª—É—à–∫–∏)
3. ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–ª–∞–Ω –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö: [supabase/MIGRATION_PLAN.md](supabase/MIGRATION_PLAN.md)
4. ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞: [supabase/SETUP_CHECKLIST.md](supabase/SETUP_CHECKLIST.md)
5. ‚úÖ –ü—Ä–æ–µ–∫—Ç Supabase —Å–æ–∑–¥–∞–Ω, –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, `.env` –Ω–∞—Å—Ç—Ä–æ–µ–Ω
6. ‚úÖ –ü–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω (GAS MigrateToSupabase: —Ç—Ä–µ–Ω–µ—Ä, –∫–ª–∏–µ–Ω—Ç—ã, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –ø—Ä–æ–≥—Ä–∞–º–º—ã, –±–ª–æ–∫–∏, —Å–µ—Å—Å–∏–∏, daily)

7. ‚úÖ Supabase Auth: email/password, —Ç—Ä–µ–Ω–µ—Ä —Å–≤—è–∑–∞–Ω —Å auth.users, RLS –ø–æ auth.uid() –ø—Ä–∏–º–µ–Ω—ë–Ω.
8. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ñ—Ä–æ–Ω—Ç—É: [supabase/FRONTEND_INTEGRATION.md](supabase/FRONTEND_INTEGRATION.md), [deploy/master/login.html](deploy/master/login.html).

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:**

| –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|----------|
| **–ù–æ–≤—ã–π API** | Edge Functions –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥ ‚Äî —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤–º–µ—Å—Ç–æ GAS (getClients, getOfflineDashboard, startSession, addSet –∏ —Ç.–¥.); —Ñ—Ä–æ–Ω—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—ã–π URL. |
| **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–∞ –∫ Supabase** | –î–æ–±–∞–≤–∏—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `@supabase/supabase-js`, —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ (signInWithPassword), –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –∑–∞–ø—Ä–æ—Å—ã –∫ Supabase —Å anon key ‚Äî RLS —É–∂–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ auth.uid(). |

---

## –ó–∞–¥–∞—á–∏ –Ω–∞ –±—É–¥—É—â–µ–µ (—Ñ–∏–∫—Å–∞—Ü–∏—è 31.01.2026)

| # | –ó–∞–¥–∞—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|--------|----------|
| 1 | **–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –≤–µ—Å–µ** | –î–æ–¥–µ–ª–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –≤–µ—Å–æ–º (–ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è, –æ—Ç–∂–∏–º–∞–Ω–∏—è, —Å–∫—Ä—É—á–∏–≤–∞–Ω–∏—è) ‚Äî —Å–µ–π—á–∞—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è ¬´‚Äî¬ª –≤–º–µ—Å—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞. |
| 2 | **–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏** | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á—ë—Ç –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏, —Å–¥–µ–ª–∞—Ç—å –µ—ë ¬´—É–º–Ω–æ–π¬ª (RPE, volume, bodyweight_ratio –∏ —Ç.–¥.). |
| 3 | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –ö–∏—Ä–∏–ª–ª–∞** | –î–æ–±–∞–≤–∏—Ç—å mandatory_tasks –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –ö–∏—Ä–∏–ª–ª (SQL INSERT –≤ mandatory_tasks). |
| 4 | **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞** | –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É/—Ä–∞–∑–¥–µ–ª —Å –≤—ã–≤–æ–¥–æ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî —Ä–∞–≤–Ω–æ–ø—Ä–∞–≤–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ SQL Editor –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º. |
